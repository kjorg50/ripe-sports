{% extends "RipeSportsApp/base.html" %}
{% block content %}
{%verbatim%}
<div ng-controller="indexCtrl">
    <nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse fixed-top">

        <!-- Brand and toggle get grouped for better mobile display -->
        <a class="navbar-brand" href="/">RipeSports</a>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <button class="navbar-toggler-right navbar-toggler" type="button" data-toggle="collapse" data-target="#headerCollapseableDiv" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id='headerCollapseableDiv'>
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a href="#" class="nav-link" role="button" ng-click="setLeague('mlb')">Baseball</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" role="button" ng-click="setLeague('nba')">Basketball</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" role="button" ng-click="setLeague('nfl')">Football</a>
                </li>
            </ul>
        </div>
        <div class="col-sm-3 col-md-3">
            <form class="navbar-form" role="search">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search Recent {{league}}" name="q" ng-model="searchStr" uib-typeahead="game for game in recentGames | filter:$viewValue | limitTo:100">
                <div class="input-group-btn">
                    <button class="btn btn-default" type="submit" ng-click="playHighlight(searchStr)"><i class="fas fa-search"></i></button>
                </div>
            </div>
            </form>
        </div>
        <!-- /.navbar-collapse -->

    </nav>
    <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
    <div id="player" style="display:none"></div>
    <div>{{player_show}}</div>
    <!--TODO remove:
    <input type="text" ng-model="gameEntry" >
    <button ng-click="search(gameEntry)" >Get Highlight</button>
    Your Highlight Link: <a target="_blank" href="{{ result }}" >{{result}}</a>
    <br>-->
    <label for="date" ng-show="league!='nfl'">Games for Date</label>
    <input name="date" type="date" ng-model="date" ng-show="league!='nfl'">
    <button ng-click="loadGamesByDate(league,date)" ng-show="league!='nfl'">Go</button>

    <label for="week" ng-show="league=='nfl'">Week</label>
    <select name="week" ng-model="week" ng-options="w for w in weeks" ng-show="league=='nfl'">
        <option></option>
    </select>
    <label for="year" ng-show="league=='nfl'">Year</label>
    <select name="year" ng-model="year" ng-options="y for y in years" ng-show="league=='nfl'">
        <option></option>
    </select>
    <button ng-click="loadGamesByWeek('nfl',week,year)" ng-show="league=='nfl'">Go</button>
    <table class="table">
        <tr>
            <th>Home Team</th>
            <th>Away Team</th>
            <th>Date</th>
        </tr>
        <tr ng-repeat="game in games" ng-click="playHighlight(game)">
            <td>{{ game.homeTeam }}</td>
            <td>{{ game.awayTeam }}</td>
            <td>{{ game.prettyDate }}</td>
        </tr>
    </table>
</div>
{%endverbatim%}
{%endblock%}
